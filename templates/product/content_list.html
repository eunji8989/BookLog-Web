{% extends 'base.html' %}
{% block content %}
<div class="container py-5">
  {% if content_list %}
    <div class="row row-cols-1 row-cols-md-2 g-4">
      {% for content in content_list %}
      <div class="col">
        <div class="card h-100 shadow-sm border-0 rounded-4 overflow-hidden">
          {% if content.image %}
          <img src="{{ content.image.url }}"
               class="card-img-top"
               alt="{{ content.title }}"
               style="height: 280px; object-fit: cover;">
          {% else %}
          <img src="https://dummyimage.com/600x280/dee2e6/6c757d.jpg"
               class="card-img-top"
               alt="기본 이미지"
               style="height: 280px; object-fit: cover;">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title fw-bold mb-3">{{ content.title }}</h5>
            <p class="card-text text-secondary flex-grow-1">{{ content.content|truncatewords:30 }}</p>
            <a href="{% url 'detail' content.id %}" class="btn btn-outline-primary mt-3 align-self-start">상세보기</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-muted">등록된 콘텐츠가 없습니다.</p>
  {% endif %}
</div>
{% endblock %}
